import type { MockDatabase } from "./database";

const baseTime = "2026-02-20T00:00:00.000Z";

const IDs = {
  campusKaistMain: "3c8d5c48-f693-4f67-bf54-df73015f9e56",
  userStudent: "a12d9d7b-6d2e-4921-9d94-b6eb0e6f7fe1",
  userProfessor: "b7e9a2c1-9f16-4f8d-8a15-3b5c7788b2ef",
  userStaff: "c4d8f49a-6f8e-4f12-9f1a-0e59a0e2af61",
  userMerchant: "d3b4c1a8-5f7e-4b9d-8b21-7c1172d8101a",
  userAdmin: "e95af2d1-1c5f-4da7-92dd-2f7165a84237",
  postMarket: "0f09af0d-74f8-4f63-b28a-26fb918f1964",
  postHousing: "1a3d4782-bfd8-4ad0-9508-318cc5e4b6b6",
  postJobs: "2b7a6281-2c14-4d06-8ad5-8f2a9d3cf71c",
  postStore: "3cb773f4-1738-4eec-925d-cab4b4d4a881",
  thread01: "4dd9f4af-c219-4fe7-95b4-607211dcfa22",
  message01: "59e2c787-7cc7-4ca8-a9dc-3f6bd5f6f0cd",
  message02: "6a1bf0b4-14f4-4709-8d22-1e85d8f4816c",
  report01: "7b6e2027-f3bf-45fd-8d23-6da7d703f0ab",
} as const;

const seed: MockDatabase = {
  campuses: [
    {
      id: IDs.campusKaistMain,
      slug: "kaist-main",
      name_ko: "카이스트 대전 본원",
      name_en: "KAIST Main Campus (Daejeon)",
      city: "Daejeon",
      is_active: true,
      created_at: baseTime,
      updated_at: baseTime,
      deleted_at: null,
    },
  ],
  users: [
    {
      id: IDs.userStudent,
      campus_id: IDs.campusKaistMain,
      role: "student",
      display_name: "김학생",
      nickname: "student01",
      trust_score: 78,
      is_verified_school_email: true,
      is_verified_phone: true,
      created_at: baseTime,
      updated_at: baseTime,
      deleted_at: null,
    },
    {
      id: IDs.userProfessor,
      campus_id: IDs.campusKaistMain,
      role: "professor",
      display_name: "이교수",
      nickname: "prof01",
      trust_score: 90,
      is_verified_school_email: true,
      is_verified_phone: true,
      created_at: baseTime,
      updated_at: baseTime,
      deleted_at: null,
    },
    {
      id: IDs.userStaff,
      campus_id: IDs.campusKaistMain,
      role: "staff",
      display_name: "박직원",
      nickname: "staff01",
      trust_score: 84,
      is_verified_school_email: true,
      is_verified_phone: true,
      created_at: baseTime,
      updated_at: baseTime,
      deleted_at: null,
    },
    {
      id: IDs.userMerchant,
      campus_id: IDs.campusKaistMain,
      role: "merchant",
      display_name: "궁동상점",
      nickname: "store01",
      trust_score: 66,
      is_verified_school_email: false,
      is_verified_phone: true,
      created_at: baseTime,
      updated_at: baseTime,
      deleted_at: null,
    },
    {
      id: IDs.userAdmin,
      campus_id: IDs.campusKaistMain,
      role: "admin",
      display_name: "관리자",
      nickname: "admin",
      trust_score: 100,
      is_verified_school_email: true,
      is_verified_phone: true,
      created_at: baseTime,
      updated_at: baseTime,
      deleted_at: null,
    },
  ],
  posts: [
    {
      id: IDs.postMarket,
      campus_id: IDs.campusKaistMain,
      category: "market",
      author_id: IDs.userStudent,
      title: "자료구조 교재 팝니다",
      body: "상태 좋고 필기 거의 없습니다.",
      price_krw: 18000,
      tags: ["교재", "컴공"],
      location_hint: "N1 근처",
      status: "active",
      is_promoted: false,
      promotion_until: null,
      view_count: 12,
      created_at: "2026-02-18T02:00:00.000Z",
      updated_at: "2026-02-18T02:00:00.000Z",
      deleted_at: null,
    },
    {
      id: IDs.postHousing,
      campus_id: IDs.campusKaistMain,
      category: "housing",
      author_id: IDs.userStudent,
      title: "궁동 원룸 단기양도",
      body: "3월~6월 단기양도, 보증금 협의 가능.",
      price_krw: 350000,
      tags: ["원룸", "단기"],
      location_hint: "궁동 로데오 인근",
      status: "active",
      is_promoted: false,
      promotion_until: null,
      view_count: 20,
      created_at: "2026-02-16T03:00:00.000Z",
      updated_at: "2026-02-16T03:00:00.000Z",
      deleted_at: null,
    },
    {
      id: IDs.postJobs,
      campus_id: IDs.campusKaistMain,
      category: "jobs",
      author_id: IDs.userProfessor,
      title: "연구실 학부 인턴 모집",
      body: "ML 기초 지식 있는 분 우대, 주 2회 미팅.",
      price_krw: null,
      tags: ["연구", "인턴"],
      location_hint: "E3",
      status: "active",
      is_promoted: false,
      promotion_until: null,
      view_count: 35,
      created_at: "2026-02-12T01:00:00.000Z",
      updated_at: "2026-02-12T01:00:00.000Z",
      deleted_at: null,
    },
    {
      id: IDs.postStore,
      campus_id: IDs.campusKaistMain,
      category: "store",
      author_id: IDs.userMerchant,
      title: "학생 전용 점심 할인 쿠폰",
      body: "학생증 제시 시 10% 할인, 평일 점심 한정.",
      price_krw: null,
      tags: ["쿠폰", "할인", "식당"],
      location_hint: "궁동",
      status: "active",
      is_promoted: true,
      promotion_until: "2026-03-01T00:00:00.000Z",
      view_count: 65,
      created_at: "2026-02-15T08:00:00.000Z",
      updated_at: "2026-02-15T08:00:00.000Z",
      deleted_at: null,
    },
  ],
  chat_threads: [
    {
      id: IDs.thread01,
      campus_id: IDs.campusKaistMain,
      post_id: IDs.postMarket,
      participant_ids: [IDs.userStudent, IDs.userStaff],
      status: "open",
      last_message_at: "2026-02-18T09:02:00.000Z",
      created_at: "2026-02-18T09:00:00.000Z",
      updated_at: "2026-02-18T09:02:00.000Z",
      deleted_at: null,
    },
  ],
  chat_messages: [
    {
      id: IDs.message01,
      campus_id: IDs.campusKaistMain,
      thread_id: IDs.thread01,
      sender_id: IDs.userStaff,
      body: "아직 구매 가능한가요?",
      is_read: true,
      created_at: "2026-02-18T09:01:00.000Z",
      updated_at: "2026-02-18T09:01:00.000Z",
      deleted_at: null,
    },
    {
      id: IDs.message02,
      campus_id: IDs.campusKaistMain,
      thread_id: IDs.thread01,
      sender_id: IDs.userStudent,
      body: "네, 가능합니다.",
      is_read: true,
      created_at: "2026-02-18T09:02:00.000Z",
      updated_at: "2026-02-18T09:02:00.000Z",
      deleted_at: null,
    },
  ],
  reports: [
    {
      id: IDs.report01,
      campus_id: IDs.campusKaistMain,
      reporter_id: IDs.userStudent,
      target_type: "post",
      target_id: IDs.postStore,
      reason: "spam",
      details: "같은 내용이 반복 게시됩니다.",
      status: "pending",
      reviewed_by: null,
      reviewed_at: null,
      action_note: null,
      created_at: "2026-02-19T04:00:00.000Z",
      updated_at: "2026-02-19T04:00:00.000Z",
      deleted_at: null,
    },
  ],
};

export const createSeedDatabase = (): MockDatabase =>
  JSON.parse(JSON.stringify(seed)) as MockDatabase;
